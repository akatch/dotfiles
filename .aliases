#
# ~/.aliases
#

## rbenv
if [[ -z `which rbenv` ]]; then
    eval "$(rbenv init -)"
    alias be='bundle exec'
fi

## mutt
alias mail_gmail='mutt -F ~/.mutt/account.gmail'
alias mail_hlgy='mutt -F ~/.mutt/account.hireology'
alias mail_im='mutt -F ~/.mutt/account.witsmd'
alias mail_opmbx='mutt -F ~/.mutt/account.opmbx'

## General stuff
alias g='grep --color=auto --exclude-dir=.git --exclude-dir=.vagrant --exclude-dir=logs --exclude=*.log'
alias isomount='sudo mount -o loop,exec'
alias l='ls -lh --color'
alias la='ls -lah --color'
alias lr='ls -R --color'
alias z='. ~/.zshrc'
alias b='. ~/.bashrc'
alias c='clear'
alias sudo='sudo -E '
alias tmux='tmux -2'
alias ta='tmux attach'

## workspaces
alias imagemover='. ~/.ENV_WITS'
alias hireology='. ~/.ENV_HLGY'

## vim
alias e='vim -p '
alias se='sudo -e '

## Apt
alias acs="apt-cache search"
alias acp="apt-cache policy"
alias acsh="apt-cache show"
alias ai="sudo apt install"
alias aa="sudo apt autoremove"
alias update='sudo apt update'
alias upgrade='sudo apt upgrade'

## Ansible
alias ad='ansible-doc'
alias am='ansible-doc -s'
alias avc='ansible-vault create'
alias avd='ansible-vault decrypt'
alias ave='ansible-vault edit'
alias avx='ansible-vault encrypt'
alias avr='ansible-vault rekey '
alias avv='ansible-vault view '
alias ap='ansible-playbook --diff'
alias a='time ansible'
alias atest='ap playbooks/test.yml'
alias aping='a all -m ping -i'

adbg() {
    ansible all -m debug -a var=$1 -i $2
}

## Vagrant
alias v='vagrant'
alias vu='time vagrant up --parallel'
alias vd='vagrant destroy --force'
alias vr='time vagrant reload'
alias vs='vagrant ssh'
alias vst='vagrant status'
alias vp='time vagrant provision'
alias vsc='vagrant ssh-config'
alias vpp='time vagrant provision --provision-with'

## postgres
alias dbcons="psql -e 'SELECT datname,usename,client_addr,waiting,query_start,current_query FROM pg_stat_activity;'"

# search for processes and keep column headings
psgrep() {
    ps aux | egrep "$1|PID"
}

## History grep
hg() {
    history | grep $1
}

## Make JSON pretty
pj() {
    python -m json.tool $1 | less
}

## Git
alias gst='git status'

## Clipboard
alias pbcopy='xclip -selection clipboard -in'
alias pbpaste='xclip -selection clipboard -out'
alias xcopy='xsel --output'
alias xpaste='xsel --input'

## Random
alias n='echo "\n"`date +%Y/%m/%d" | "%R`"\n" >> $HOME/documents/txt/notes.txt && vim + -c "startinsert" $HOME/documents/txt/notes.txt'
alias deployed='deploy-qa --deployed'
alias toff='xsetwacom --set "Wacom Intuos PT M 2 Finger touch" Touch off'
alias nb=newsbeuter

alias directions='echo "Turn onto Buick Street between the Walgreens and the 7/11, then turn right into the Park Village parking lot. Our building is the first one on the right, and there is an intercom on the side of the building nearest the 7/11." | pbcopy'

if [[ ! -z `which vimpager` ]]; then
  alias psql='PAGER=vimpager psql';
fi
