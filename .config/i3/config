#
# i3 config
#

set $mod Mod4
floating_modifier $mod
bindsym $mod+Return exec xterm
#bindsym $mod+Return exec i3-sensible-terminal
bindsym $mod+Shift+q kill
bindsym $mod+l exec "i3lock -c 000000"
bindsym $mod+h exec "firefox -P hireology"
bindsym $mod+e exec "firefox -P eli"
bindsym $mod+k exec keepassxc

bindsym $mod+x rename workspace 1 to temporary; rename workspace 10 to 1; rename workspace temporary to 10

set $m Mod1
set $m2 Ctrl
set_from_resource $font i3wm.font
font $font
new_window none
new_float none
focus_follows_mouse no
focus_wrapping workspace
workspace_layout tabbed
workspace_auto_back_and_forth no

set $left_display "HDMI-1"
set $right_display "HDMI-2"
set $aux_display "DP-2"

workspace 1 output $left_display
workspace 2 output $right_display
workspace 4 output $aux_display
workspace 5 output $right_display
workspace 10 output $right_display

# TODO cycle focus between windows on this workspace
bindsym $mod+Tab focus right
bindsym $m+Tab focus left
# FIXME this doesn't actually work
#bindsym Print exec "import $HOME/pictures/screenshots/$(date +'%Y%m%d_%H%M%S').png"
bindsym $mod+space exec dmenu_run -i -l 5 -bw 2 -sb '#262626' -sf '#dfaf00' -nb '#121212' -nf '#767676' -fn 'fixed:size=12' -c
bindsym $m+space workspace 10
bindsym $m2+space workspace 1
bindsym $mod+p scratchpad show
bindsym $mod+o move scratchpad
bindsym $mod+$m+Right move workspace to output right
bindsym $mod+$m+Left move workspace to output left

# Music
bindsym F9 exec cmus-remote -u
bindsym F10 exec cmus-remote -n
bindsym $m+F10 exec cmus-remote --seek 0
bindsym F11 exec amixer sset Master 5%-
bindsym F12 exec amixer sset Master 5%+

# notifications
bindsym $mod+n exec dunstctl close-all

assign [class="Firefox"] 3
assign [class="Tor Browser"] 3
assign [class="MPlayer"] 2
assign [class="calibre"] 2
assign [class="App"] 4
assign [class="[Z|z]oom"] 3

# TODO floating enable by default?
#for_window [class="Browser"] floating enable
for_window [class="[Z|z]oom"] floating enable, move position right
for_window [class="page-info"] floating enable
for_window [class="XFontSel|XEv|XCalc|feh"] floating enable
for_window [class="[V|v]mware"] floating enable
for_window [class="KeePassXC"] floating enable
for_window [class="VirtualBox"] floating enable, resize set 800 600, move position center
for_window [class="[V|v]iewnior"] floating enable, resize set 800 600
for_window [class="[A|a]randr"] floating enable
for_window [class="qt5ct"] floating enable, resize set 800 600
for_window [class="Vncviewer"] floating enable

# colors
set_from_resource $background i3wm.background #000000
set_from_resource $foreground i3wm.foreground #ffffff
set_from_resource $green i3wm.color2 #008700
set_from_resource $brightgreen i3wm.color10 #5f8700

# class                 border  	backgr. 	text    	indicator 	child_border
client.focused          $background $background $foreground #2e9ef4   #285577
client.focused_inactive $background $background $background #484e50   #5f676a
client.unfocused        $background $background $background #292d2e   #222222
client.urgent           $background $background $brightgreen #900000   #900000
client.placeholder      $background $background $foreground #000000   #0c0c0c
client.background       $background

include defaults.conf

# set keyboard map
exec i3-msg 'exec xkbcomp $HOME/.config/keymap.xkb $DISPLAY'

# Startup wpplications
exec i3-msg 'exec xterm; exec firefox; exec calibre'
